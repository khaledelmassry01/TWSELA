# ุงูุชูุฑูุฑ ุงูุดุงูู ูุชุญููู ูุธุงู Twsela โ ุฎุทุฉ ุงูุญู ุงููุซูู

> **ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 26 ูุจุฑุงูุฑ 2026  
> **ุงููุนุฏ:** ูุจูุฑ ูููุฏุณู ุงููุธุงู  
> **ุงููุทุงู:** ุชุญููู ูุงูู (ูุงุนุฏุฉ ุงูุจูุงูุงุช + Backend + Frontend + ุงูุจููุฉ ุงูุชุญุชูุฉ)

## โ Sprint 1 โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ

### WP-1: ุฅุตูุงุญุงุช ุงูุฃูุงู ุงูุญุฑุฌุฉ (Backend)
- [x] ุญุฐู `DebugController.java` ุจุงููุงูู
- [x] ุฅุฒุงูุฉ `/api/debug/**` ูู `SecurityConfig.permitAll()`
- [x] ุชุบููุฑ `.anyRequest().permitAll()` โ `.anyRequest().authenticated()`
- [x] ุชุบููู ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุชุบูุฑุงุช ุงูุจูุฆุฉ (`DB_URL`, `DB_USERNAME`, `DB_PASSWORD`)
- [x] ุฅุถุงูุฉ ุชุดููุฑ ูููุฉ ุงููุฑูุฑ ูู `MasterDataController.createUser()`
- [x] ุงุณุชุจุฏุงู `Random` ุจู `SecureRandom` ูู `OtpService`
- [x] ุฅุตูุงุญ `courierId = 1L` ูู `ShipmentController` โ ููุณุชุฎุฑุฌ ุงูุขู ูู ุงูู SecurityContext

### WP-2: ุฅุตูุงุญ ุงูุฏูุงู ุงููุนุทูุฉ
- [x] ุฅุตูุงุญ endpoint `/api/shipments/list` โ ููุฑุฌุน ุจูุงูุงุช ูุนููุฉ ุจุฏูุงู ูู ูุงุฆูุฉ ูุงุฑุบุฉ
- [x] ุฅุตูุงุญ `assignShipmentsToManifest()` โ ูุฑุจุท ุงูุดุญูุงุช ุจุงููุงูููุณุช ูุนููุงู
- [x] ุฅุตูุงุญ `updateCourierLocation()` โ ูุญูุธ ูู `courier_location_history`
- [x] ุฅุตูุงุญ `createReturnShipment()` โ ูุญูุธ ูู `return_shipments`
- [x] ุฅุตูุงุญ nginx.conf โ ุชุตุญูุญ ุงููููุฐ ูู 8080 โ 8000 + ุฅุถุงูุฉ mime.types

### WP-3: ุฅุตูุงุญุงุช ุฃูุงู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- [x] ุฅุตูุงุญ auth bypass โ `return false` ุจุฏูุงู ูู `return true` ุนูุฏ ุฃุฎุทุงุก ุงูุดุจูุฉ
- [x] ุฅุตูุงุญ `getPaginatedData()` ู `searchData()` โ ุงุณุชุฎุฏุงู query params ุจุฏูุงู ูู body ูุน GET
- [x] ุฅูุดุงุก ุฏุงูุฉ `escapeHtml()` ูู `SharedDataUtils.js`
- [x] ุชุทุจูู `escapeHtml()` ุนูู ~30 ููุทุฉ XSS ุญุฑุฌุฉ ุนุจุฑ 7 ูููุงุช
- [x] ุฅุตูุงุญ ูุชุบูุฑ `url` ุฎุงุฑุฌ ุงููุทุงู ูู `api_service.js`

### WP-4: ุฅุตูุงุญุงุช ุฅุถุงููุฉ ููู Backend
- [x] ุฅุตูุงุญ Path Traversal ูู `FileUploadService` + ููู ูุฌูุฏ ุงูุฑูุน ุฎุงุฑุฌ ุงูููุฏ ุงููุตุฏุฑู
- [x] ุฅุตูุงุญ `BackupService` โ ูููุฉ ุงููุฑูุฑ ุนุจุฑ MYSQL_PWD ุจุฏูุงู ูู ุณุทุฑ ุงูุฃูุงูุฑ
- [x] ุฅุตูุงุญ ููุชุฑ ADMIN ูู `MasterDataController` โ ุงุณุชุนูุงู ูุฎุตุต ูุณุชุจุนุฏ OWNER
- [x] ุชุญููู ุญุฐู ุงููุณุชุฎุฏููู ุฅูู soft delete
- [x] ุฅุฒุงูุฉ actuator endpoints ุงูุญุณุงุณุฉ (env, beans, configprops)
- [x] ุฅุถุงูุฉ `application-prod.yml` ูููู Production profile

### WP-5: ุงูุชูุธูู ูุงูุฅุตูุงุญุงุช ุงููุชููุนุฉ
- [x] ุญุฐู ูููุงุช orphaned ุจุฏูู ุงูุชุฏุงุฏ (`zones`, `merchants`)
- [x] ุฅูุดุงุก `.dockerignore`
- [x] ุฅุตูุงุญ 55 empty catch block ุนุจุฑ 12 ููู (ุฅุถุงูุฉ console.error)

---

## ุงูุฌุฒุก ุงูุฃูู: ุชุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ

### 1.1 ููุฎุตV ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ (29 ุฌุฏูู)

```
ูุงุนุฏุฉ ุงูุจูุงูุงุช: twsela (MySQL 8.x)
ุฅุฌูุงูู ุงูุฌุฏุงูู: 29
ุฅุฌูุงูู ุงูุณุฌูุงุช ุงููุนููุฉ: ~257 ุณุฌู (ูุนุธููุง ุจูุงูุงุช ูุฑุฌุนูุฉ)
```

#### ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ (Core Tables)

| # | ุงูุฌุฏูู | ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ | ุงูุณุฌูุงุช | ุงูุญุงูุฉ |
|---|--------|-----------------|---------|--------|
| 1 | `users` | id, name, phone, password, role_id, status_id, is_deleted | 5 | โ ูุนูู |
| 2 | `roles` | id, name, description | 5 | โ ูุนูู (OWNER, ADMIN, MERCHANT, COURIER, WAREHOUSE_MANAGER) |
| 3 | `user_statuses` | id, name | 3 | โ ูุนูู (ACTIVE, INACTIVE, SUSPENDED) |
| 4 | `shipments` | id, tracking_number, merchant_id, zone_id, status_id, recipient_detail_id, cod_amount, delivery_fee, +15 ุนููุฏ | 0 | โ๏ธ ูุงุฑุบ |
| 5 | `shipment_statuses` | id, name, description | 12 | โ ูุนูู (12 ุญุงูุฉ ูุงููุฉ) |
| 6 | `shipment_status_history` | id, shipment_id, status_id, notes, created_at | 0 | โ๏ธ ูุงุฑุบ |
| 7 | `zones` | id, name, status, default_fee, center_lat/lng | 26 | โ ูุนูู (26 ููุทูุฉ ูุตุฑูุฉ) |

#### ุฌุฏุงูู ุงูุชูุงุตูู (Detail Tables)

| # | ุงูุฌุฏูู | ุงูุนูุงูุฉ | ุงูุณุฌูุงุช | ุงูุญุงูุฉ |
|---|--------|---------|---------|--------|
| 8 | `courier_details` | OneToOne โ users | 0 | โ๏ธ ูุงุฑุบ |
| 9 | `merchant_details` | OneToOne โ users | 0 | โ๏ธ ูุงุฑุบ |
| 10 | `recipient_details` | OneToMany โ shipments | 0 | โ๏ธ ูุงุฑุบ |
| 11 | `shipment_package_details` | OneToOne โ shipments | 0 | โ๏ธ ูุงุฑุบ |

#### ุฌุฏุงูู ุงููุงู ูุงููุฏููุนุงุช (Financial Tables)

| # | ุงูุฌุฏูู | ุงููุตู | ุงูุณุฌูุงุช | ุงูุญุงูุฉ |
|---|--------|-------|---------|--------|
| 12 | `payouts` | ุงููุฏููุนุงุช ููุชุฌุงุฑ ูุงูููุงุฏูุจ | 0 | โ๏ธ ูุงุฑุบ |
| 13 | `payout_items` | ุชูุงุตูู ุจููุฏ ุงููุฏููุนุงุช | 0 | โ๏ธ ูุงุฑุบ |
| 14 | `payout_statuses` | ุญุงูุงุช ุงููุฏููุนุงุช | 5 | โ ูุนูู |
| 15 | `cash_movement_ledger` | ุฏูุชุฑ ุญุฑูุฉ ุงูููุฏ | 0 | โ๏ธ ูุงุฑุบ |
| 16 | `delivery_pricing` | ุชุณุนูุฑ ุงูุชูุตูู (merchant+zone) | 0 | โ๏ธ ูุงุฑุบ |
| 17 | `merchant_zone_pricing` | ุชุณุนูุฑ ุฎุงุต ุจุงูููุทูุฉ ูุงูุชุงุฌุฑ | 0 | โ๏ธ ูุงุฑุบ |

#### ุฌุฏุงูู ุงูุนูููุงุช (Operations Tables)

| # | ุงูุฌุฏูู | ุงููุตู | ุงูุณุฌูุงุช | ุงูุญุงูุฉ |
|---|--------|-------|---------|--------|
| 18 | `shipment_manifests` | ูุงูููุณุช ุงูุชูุตูู | 0 | โ๏ธ ูุงุฑุบ |
| 19 | `courier_zones` | ุฑุจุท ุงูููุงุฏูุจ ุจุงูููุงุทู | 0 | โ๏ธ ูุงุฑุบ |
| 20 | `courier_location_history` | ุณุฌู ููุงูุน ุงูููุงุฏูุจ | 0 | โ๏ธ ูุงุฑุบ |
| 21 | `warehouse_inventory` | ูุฎุฒูู ุงููุณุชูุฏุน | 0 | โ๏ธ ูุงุฑุบ |
| 22 | `warehouses` | ุงููุณุชูุฏุนุงุช | 0 | โ๏ธ ูุงุฑุบ |
| 23 | `return_shipments` | ุงููุฑุชุฌุนุงุช | 0 | โ๏ธ ูุงุฑุบ |

#### ุฌุฏุงูู ุงูุฏุนู (Support Tables)

| # | ุงูุฌุฏูู | ุงููุตู | ุงูุณุฌูุงุช | ุงูุญุงูุฉ |
|---|--------|-------|---------|--------|
| 24 | `system_audit_log` | ุณุฌู ุงููุฑุงุฌุนุฉ | 191 | โ ูุนูู |
| 25 | `notification_log` | ุณุฌู ุงูุฅุดุนุงุฑุงุช | 0 | โ๏ธ ูุงุฑุบ |
| 26 | `telemetry_settings` | ุฅุนุฏุงุฏุงุช ุงููุธุงู | 8 | โ ูุนูู |
| 27 | `service_feedback` | ุชูููู ุงูุฎุฏูุฉ | 0 | โ๏ธ ูุงุฑุบ |
| 28 | `merchant_service_feedback` | ุชูููู ุงูุชุฌุงุฑ | 0 | โ๏ธ ูุงุฑุบ |
| 29 | `fraud_blacklist` | ุงููุงุฆูุฉ ุงูุณูุฏุงุก | 0 | โ๏ธ ูุงุฑุบ |

### 1.2 ุฎุฑูุทุฉ ุงูุนูุงูุงุช (ERD Summary)

```
users โโโโโโโโโโฌโโโ roles
               โโโโ user_statuses
               โโโโท courier_details (1:1)
               โโโโท merchant_details (1:1)
               โโโโ shipments (as merchant)
               โโโโ shipment_manifests (as courier)
               โโโโ payouts
               โโโโ cash_movement_ledger
               โโโโ courier_location_history

shipments โโโโโโฌโโโ users (merchant)
               โโโโ zones
               โโโโ shipment_statuses
               โโโโ recipient_details
               โโโโ shipment_manifests
               โโโโ payouts
               โโโโท shipment_package_details (1:1)
               โโโโ shipment_status_history
               โโโโ return_shipments
               โโโโ service_feedback
               โโโโ warehouse_inventory

zones โโโโโโโโโโฌโโโ delivery_pricing
               โโโโ merchant_zone_pricing
               โโโโ courier_zones
               โโโโ shipments
```

### 1.3 ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุชุดูุฉ

| # | ุงููุดููุฉ | ุงูุฎุทูุฑุฉ | ุงูุชูุงุตูู |
|---|---------|---------|----------|
| DB1 | **ุชุนุงุฑุถ ุญุงูุงุช ุงูุดุญูุฉ** | ๐ด ุญุฑุฌ | ุงูููุฏ ูุฑุฌุน ูู 15+ ุญุงูุฉ (PENDING_APPROVAL, RECEIVED_AT_HUB, ASSIGNED_TO_COURIER...) ููู ุงูุฌุฏูู ูุญุชูู ููุท ุนูู 12 ุญุงูุฉ โ ุณูุณุจุจ `NoSuchElementException` ุนูุฏ ุงูุชุดุบูู |
| DB2 | **ูููุฏ `recipient_details.phone` ูุฑูุฏ** | ๐ ุนุงูู | ูุณุชููุงู ูุฎุชููุงู ุจููุณ ุงูุฑูู = ุชุนุงุฑุถ. ุงูููุทู ูุจุญุซ ุจุงูู phone ููุท |
| DB3 | **`shipments.setCourier()` ูุงุฑุบ** | ๐ด ุญุฑุฌ | ุทุฑููุฉ ุฑุจุท ุงูููุฏูุจ ูุง ุชูุนู ุดูุฆุงู โ ุงูููุฏูุจ ููุฑุจุท ููุท ุนุจุฑ ุงูู manifest |
| DB4 | **ูุง ููุฌุฏ ุฌุฏูู permissions** | ๐ก ูุชูุณุท | ุฑุบู ูุฌูุฏ `PermissionService` ูู ุงูููุฏ โ ุงูุตูุงุญูุงุช ูุจููุฉ ูู enum ูููุณ ุฌุฏูู |
| DB5 | **`default_fee` ูุงุญุฏ ููู ุงูููุงุทู** | ๐ก ูุชูุณุท | ูู ุงูููุงุทู ุจู 50 ุฌููู โ ูุง ููุฌุฏ ุชุณุนูุฑ ูุชุฏุฑุฌ ูุนูู |
| DB6 | **ูุง ููุฌุฏ ููุงุฑุณ ุนูู created_at** | ๐ก ูุชูุณุท | ูู ุฌุฏุงูู ูุซู `shipments` ู `cash_movement_ledger` |
| DB7 | **`system_audit_log.user_id` ุจุฏูู FK** | ๐ก ูุชูุณุท | ูุง ููุฌุฏ ุฑุจุท ูุฑุฌุนู ูุน ุฌุฏูู users |
| DB8 | **ูุง ููุฌุฏ Flyway/Liquibase** | ๐ ุนุงูู | ูุง ููุฌุฏ ุฅุฏุงุฑุฉ ุชุบููุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช |

---

## ุงูุฌุฒุก ุงูุซุงูู: ุชุญููู ุงูุฃุฎุทุงุก ุงูุดุงูู

### 2.1 ููุฎุต ุงูุฃุฎุทุงุก ุญุณุจ ุงููุณุชูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ุฅุฌูุงูู ุงููุดุงูู ุงูููุชุดูุฉ: 127        โ
โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ด ุญุฑุฌ   โ 18 ูุดููุฉ (ูุฌุจ ุฅุตูุงุญูุง ููุฑุงู)    โ
โ ๐ ุนุงูู  โ 32 ูุดููุฉ (ูุจู Production)        โ
โ ๐ก ูุชูุณุท โ 41 ูุดููุฉ (ุชุญุณููุงุช ูููุฉ)          โ
โ ๐ต ููุฎูุถ โ 36 ูุดููุฉ (ุชุญุณููุงุช ูุฑุบูุจุฉ)        โ
โโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2.2 ุงููุดุงูู ุงูุญุฑุฌุฉ (P0) โ 18 ูุดููุฉ

#### ุฃูุงู Backend (7 ูุดุงูู)

| # | ุงูููุฏ | ุงููุดููุฉ | ุงูููู | ุงูุชุฃุซูุฑ |
|---|-------|---------|-------|---------|
| P0-01 | SEC-01 | **DebugController ููุชูุญ ููุนุงูู** | `DebugController.java` | ุฃู ุดุฎุต ููููู ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงููุฑูุฑ ููุดู ุจูุงูุงุช ุงููุณุชุฎุฏููู |
| P0-02 | SEC-02 | **`anyRequest().permitAll()`** | `SecurityConfig.java` | ุฃู endpoint ุบูุฑ ูุนุฑู ุตุฑุงุญุฉ ููุชูุญ ุจุฏูู ูุตุงุฏูุฉ |
| P0-03 | SEC-03 | **JWT Secret ููุชูุจ ูู ุงูููุฏ** | `application.yml` | ูููู ูุฃู ุดุฎุต ูุฑู ุงูููุฏ ุชุฒููุฑ JWT tokens |
| P0-04 | SEC-04 | **ุจูุงูุงุช DB: root/root** | `application.yml` | ุจูุงูุงุช ุงุนุชูุงุฏ ุถุนููุฉ ูููุดูุฑุฉ |
| P0-05 | SEC-05 | **`MasterDataController` ูุญูุธ ูููุงุช ูุฑูุฑ ุบูุฑ ูุดูุฑุฉ** | `MasterDataController.java` | ุงููุณุชุฎุฏููู ุงููุถุงููู ูู ููุญุฉ ุงูุชุญูู ูู ูุณุชุทูุนูุง ุชุณุฌูู ุงูุฏุฎูู ุฃู ูููุงุชูู ููุดููุฉ |
| P0-06 | SEC-06 | **`java.util.Random` ูุฅูุดุงุก OTP** | `OtpService.java` | ูููู ุงูุชูุจุค ุจููุฏ OTP |
| P0-07 | SEC-07 | **`courierId = 1L` ููุชูุจ ูุฏููุงู** | `ShipmentController.java:866` | ูู ุชุญุฏูุซุงุช ุงููููุน ุชุณุฌู ููููุฏูุจ ุฑูู 1 ููุท |

#### ุฃูุงู Frontend (5 ูุดุงูู)

| # | ุงูููุฏ | ุงููุดููุฉ | ุงูููู | ุงูุชุฃุซูุฑ |
|---|-------|---------|-------|---------|
| P0-08 | XSS-01 | **76 ููุถุน `innerHTML` ุจุฏูู sanitization** | ูู ูููุงุช ุงูุตูุญุงุช | ุญูู JavaScript ุนุจุฑ ุฃุณูุงุก ุงููุณุชูููู ูุงูุนูุงููู |
| P0-09 | AUTH-01 | **Auth ูุนุชุจุฑ ุงูุฌูุณุฉ ุตุงูุญุฉ ุนูุฏ ูุดู ุงูุดุจูุฉ** | `auth_service.js:299` | `return true` ุนูุฏ ุฎุทุฃ ุงูุดุจูุฉ = ุชุฌุงูุฒ ุงููุตุงุฏูุฉ |
| P0-10 | AUTH-02 | **JWT ูู localStorage** | `auth_service.js:614` | ุฃู ุซุบุฑุฉ XSS (ููู ููุฌูุฏุฉ) = ุณุฑูุฉ ุงูู token |
| P0-11 | API-01 | **`ReferenceError` ูู catch block** | `api_service.js:129` | ูุชุบูุฑ `url` ุฎุงุฑุฌ ุงููุทุงู ูู catch = ุชุทุจูู ูุชููู ุนูุฏ ุฃู ุฎุทุฃ ุดุจูุฉ |
| P0-12 | API-02 | **GET request ูุฑุณู body** | `api_service.js:1093` | ูุฎุงูู ููุงุตูุงุช HTTP โ Proxies ูุงูุณูุฑูุฑุงุช ูุฏ ุชุฒูู ุงูู body |

#### ูุธุงุฆู ูุนุทูุฉ (6 ูุดุงูู)

| # | ุงูููุฏ | ุงููุดููุฉ | ุงูููู | ุงูุชุฃุซูุฑ |
|---|-------|---------|-------|---------|
| P0-13 | FUNC-01 | **`/api/shipments/list` ูุนูุฏ ูุตูููุฉ ูุงุฑุบุฉ ุฏุงุฆูุงู** | `ShipmentController.java` | ูุงุฆูุฉ ุงูุดุญูุงุช ูุง ุชุนูู ุฅุทูุงูุงู |
| P0-14 | FUNC-02 | **`assignShipmentsToManifest()` ูุง ุชูุนู ุดูุฆุงู** | `ManifestController.java:119` | ุชุนููู ุงูุดุญูุงุช ูููุงูููุณุช ูุนุทู |
| P0-15 | FUNC-03 | **`updateCourierLocation()` ูุง ุชุญูุธ ุงููููุน** | `ShipmentService.java:599` | ุชุชุจุน ุงูููุฏูุจ ูุง ูุนูู |
| P0-16 | FUNC-04 | **`createReturnShipment()` ูุง ุชุญูุธ ูู return_shipments** | `ShipmentService.java:571` | ุงููุฑุชุฌุนุงุช ูุง ุชุนูู |
| P0-17 | FUNC-05 | **ุญุงูุงุช ุงูุดุญูุฉ ูุชุนุงุฑุถุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช** | `DataInitializer.java` vs `shipment_statuses` | ููุฏ ูุดูุฑ ูุญุงูุงุช ุบูุฑ ููุฌูุฏุฉ ูู DB |
| P0-18 | INFRA-01 | **ุชุนุงุฑุถ ุงูููุงูุฐ: Nginxโ8080, Appโ8000** | `nginx.conf` vs `application.yml` | ุงููุธุงู ูู ูุนูู ุฎูู Nginx |

### 2.3 ุงููุดุงูู ุนุงููุฉ ุงูุฎุทูุฑุฉ (P1) โ 32 ูุดููุฉ

#### Backend (14 ูุดููุฉ)

| # | ุงููุดููุฉ | ุงููููุน |
|---|---------|--------|
| P1-01 | Load-all-then-filter ูู 5+ ุฎุฏูุงุช | ShipmentService, UserService |
| P1-02 | EAGER fetch ุนูู 4 ุนูุงูุงุช ูู Shipment | Shipment.java |
| P1-03 | ูููุงุช POD ุชูุญูุธ ุฏุงุฎู src/main/resources | FileUploadService.java |
| P1-04 | DTOs ููุฌูุฏุฉ ููู Controllers ุชูุจู Entity ูุจุงุดุฑุฉ | MasterDataController |
| P1-05 | ูุง ููุฌุฏ @Valid ุนูู ุฃู endpoint | ูู Controllers |
| P1-06 | ูุง ููุฌุฏ rate limiting | AuthController, SmsController |
| P1-07 | Actuator ููุดู env, beans, configprops | application.yml |
| P1-08 | ูุง ููุฌุฏ Spring profiles | ููู ูุงุญุฏ ููู ุงูุจูุฆุงุช |
| P1-09 | Caching/Redis ูุนุทู ุจุงููุงูู | application.yml |
| P1-10 | DashboardController ูุญูู ALL shipments ูู ุงูุฐุงูุฑุฉ | DashboardController.java |
| P1-11 | MasterDataController hard delete ุจุฏูุงู ูู soft delete | MasterDataController.java |
| P1-12 | FileUploadService: path traversal ูููู | FileUploadService.java |
| P1-13 | BackupService: DB password ูู ุณุทุฑ ุงูุฃูุงูุฑ | BackupService.java |
| P1-14 | `User.setActive()` ู `setDeleted()` methods ูุงุฑุบุฉ | User.java |

#### Frontend (12 ูุดููุฉ)

| # | ุงููุดููุฉ | ุงููููุน |
|---|---------|--------|
| P1-15 | ุทุจูุฉ TypeScript ูุงููุฉ ููุชุฉ (20+ ููู) | frontend/src/js/services/*.ts, pages/*.ts |
| P1-16 | 8+ ุฑูุงุจุท ุชููู ููุณูุฑุฉ | admin/dashboard, warehouse/dashboard |
| P1-17 | `owner-settings.js` ููููุฏ ููู ูุฑุฌุน ูู HTML | owner/settings.html |
| P1-18 | Base URL ููุชูุจ ูุฏููุงู ูู 3 ุฃูุงูู | api_service.js, auth_service.js, app.js |
| P1-19 | ุฃุณูุงุก ููุงุชูุญ ุงูุชุฎุฒูู ูุชุนุงุฑุถุฉ | 'authToken' vs 'twsela_token' |
| P1-20 | Vite ูุง ูุจูู ุดูุฆุงู โ build system ูุนุทู | vite.config.js |
| P1-21 | Race condition ูู ูุญุต Auth | auth_service.js |
| P1-22 | zones.html ูุญุชูู ุนูู HTML document ููุฑุฑ | owner/zones.html |
| P1-23 | 5 npm dependencies ุบูุฑ ูุณุชุฎุฏูุฉ | package.json |
| P1-24 | Empty catch blocks ูู 10+ ุฃูุงูู | ูู ุงูุตูุญุงุช |
| P1-25 | Global error handlers ูุงุฑุบุฉ | app.js:157 |
| P1-26 | `api.ts` ูุง ูุญุชูู ุนูู `patch()` ููู TS files ุชุณุชุฎุฏูู | api.ts, courier.ts |

#### ุจููุฉ ุชุญุชูุฉ (6 ูุดุงูู)

| # | ุงููุดููุฉ | ุงููููุน |
|---|---------|--------|
| P1-27 | Redis ุจุฏูู ูููุฉ ูุฑูุฑ | docker-compose |
| P1-28 | Grafana: admin/admin123 | docker-compose.monitoring.yml |
| P1-29 | MySQL ููุดูู ุนูู port 3306 | docker-compose |
| P1-30 | ูุง ููุฌุฏ CI/CD pipeline | ุงููุดุฑูุน |
| P1-31 | ูุง ููุฌุฏ .dockerignore | ุงููุดุฑูุน |
| P1-32 | Docker Compose files ุชุชุนุงุฑุถ | docker-compose files |

---

## ุงูุฌุฒุก ุงูุซุงูุซ: ุงูุฌุฏุงูู ุงููุทููุจุฉ ูุจูุงุก ุงููุฑุงุญู

### 3.1 ุชุญููู ุงููุฌูุฉ โ ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ vs ุงููุทููุจุฉ

#### ุงููุฑุญูุฉ 1: ุชุนุฒูุฒ ุงูููุงุฉ (20 ููุฒุฉ)

```
ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ุงูุชู ุชุฏุนู ุงููุฑุญูุฉ 1:
โ courier_location_history โ ูุธุงู ุงูุชุชุจุน (1.1) - ููุฌูุฏ ููู ุงูููุฏ ูุง ูุญูุธ ููู
โ notification_log โ ูุธุงู ุงูุฅุดุนุงุฑุงุช (1.2) - ููุฌูุฏ
โ service_feedback + merchant_service_feedback โ ูุธุงู ุงูุชูููู (1.3) - ููุฌูุฏ
โ return_shipments โ ูุธุงู ุงููุฑุชุฌุนุงุช (1.9) - ููุฌูุฏ ููู ุงูููุฏ ูุง ูุญูุธ ููู
โ shipment_package_details โ ุจูุงูุงุช ุงูุทุฑุฏ (1.6) - ููุฌูุฏ
โ system_audit_log โ ุณุฌู ุงููุดุงุทุงุช (1.18) - ููุฌูุฏ ููุนูู
```

```
ุงูุฌุฏุงูู ุงููุทููุจ ุฅูุดุงุคูุง ูููุฑุญูุฉ 1:

๐ 1.1 ูุธุงู ุงูุชุชุจุน ุงูุญู (Real-time Tracking):
โโโ delivery_tracking_session (ุฌูุณุฉ ุงูุชุชุจุน ุงูุญูุฉ)
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ shipment_id BIGINT FK โ shipments
โ   โโโ courier_id BIGINT FK โ users
โ   โโโ started_at TIMESTAMP
โ   โโโ ended_at TIMESTAMP NULL
โ   โโโ estimated_arrival TIMESTAMP NULL
โ   โโโ status ENUM('ACTIVE','COMPLETED','CANCELLED')
โโโ [courier_location_history ููุฌูุฏ โ ูุญุชุงุฌ ุชูุนูู ุงูููุฏ]

๐ 1.2 ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู:
โโโ notification_template
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ name VARCHAR(100)
โ   โโโ channel ENUM('SMS','EMAIL','PUSH','WHATSAPP','IN_APP')
โ   โโโ event_type VARCHAR(50) โ ูุซู: STATUS_CHANGED, COURIER_NEARBY
โ   โโโ arabic_template TEXT
โ   โโโ english_template TEXT NULL
โ   โโโ is_active BIT(1)
โ   โโโ created_at TIMESTAMP
โโโ notification_preference
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ user_id BIGINT FK โ users
โ   โโโ channel ENUM('SMS','EMAIL','PUSH','WHATSAPP','IN_APP')
โ   โโโ is_enabled BIT(1)
โ   โโโ updated_at TIMESTAMP
โโโ [notification_log ููุฌูุฏ โ ูุญุชุงุฌ ุฅุถุงูุฉ ุฃุนูุฏุฉ: channel, template_id, user_id]

๐ 1.3 ูุธุงู ุชูููู ุงูููุงุฏูุจ:
โโโ courier_badge
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ courier_id BIGINT FK โ users
โ   โโโ badge_type VARCHAR(50) โ ูุซู: BEST_MONTH, 100_DELIVERIES
โ   โโโ earned_at TIMESTAMP
โ   โโโ description VARCHAR(255)
โโโ courier_performance_monthly
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ courier_id BIGINT FK โ users
โ   โโโ month DATE
โ   โโโ total_deliveries INT
โ   โโโ successful_deliveries INT
โ   โโโ failed_deliveries INT
โ   โโโ average_rating DECIMAL(3,2)
โ   โโโ on_time_rate DECIMAL(5,2)
โ   โโโ total_earnings DECIMAL(12,2)
โโโ [service_feedback + merchant_service_feedback ููุฌูุฏูู โ ูุญุชุงุฌุงู ุฅุถุงูุฉ ุฃุนูุฏุฉ]

๐ 1.5 ูุธุงู ุฅุซุจุงุช ุงูุชุณููู (POD) โ ุชูุณูุน:
โโโ delivery_proof
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ shipment_id BIGINT FK โ shipments UNIQUE
โ   โโโ pod_type ENUM('OTP','PHOTO','SIGNATURE','COMBINED')
โ   โโโ photo_url VARCHAR(500) NULL
โ   โโโ signature_data TEXT NULL
โ   โโโ otp_verified BIT(1)
โ   โโโ delivery_latitude DECIMAL(10,8)
โ   โโโ delivery_longitude DECIMAL(10,8)
โ   โโโ actual_recipient_name VARCHAR(100) NULL
โ   โโโ notes TEXT NULL
โ   โโโ created_at TIMESTAMP
โโโ [shipments.pod_type + pod_data ููุฌูุฏูู โ ูุญุชุงุฌุงู ูุฌุฑุฉ ูุฌุฏูู ูููุตู]

๐ 1.8 ูุธุงู ุงูุดุญูุงุช ุงููุฌูุนุฉ:
โโโ bulk_upload_batch
    โโโ id BIGINT PK AUTO_INCREMENT
    โโโ merchant_id BIGINT FK โ users
    โโโ file_name VARCHAR(255)
    โโโ total_rows INT
    โโโ successful_rows INT
    โโโ failed_rows INT
    โโโ status ENUM('UPLOADING','VALIDATING','PROCESSING','COMPLETED','FAILED')
    โโโ error_report TEXT NULL
    โโโ created_at TIMESTAMP

๐ 1.10 ูุธุงู ุงููุญุงูุธ ุงููุงููุฉ:
โโโ wallet
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ user_id BIGINT FK โ users UNIQUE
โ   โโโ wallet_type ENUM('MERCHANT','COURIER','COMPANY')
โ   โโโ balance DECIMAL(12,2) DEFAULT 0
โ   โโโ pending_balance DECIMAL(12,2) DEFAULT 0
โ   โโโ updated_at TIMESTAMP
โโโ wallet_transaction
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ wallet_id BIGINT FK โ wallet
โ   โโโ amount DECIMAL(12,2)
โ   โโโ type ENUM('CREDIT','DEBIT')
โ   โโโ category ENUM('COD_COLLECTION','DELIVERY_FEE','WITHDRAWAL','ADJUSTMENT','COMMISSION')
โ   โโโ reference_type VARCHAR(50) NULL
โ   โโโ reference_id BIGINT NULL
โ   โโโ description VARCHAR(500)
โ   โโโ balance_after DECIMAL(12,2)
โ   โโโ created_at TIMESTAMP
โโโ withdrawal_request
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ wallet_id BIGINT FK โ wallet
โ   โโโ amount DECIMAL(12,2)
โ   โโโ status ENUM('PENDING','APPROVED','REJECTED','COMPLETED')
โ   โโโ approved_by BIGINT FK โ users NULL
โ   โโโ bank_details TEXT
โ   โโโ notes TEXT NULL
โ   โโโ created_at TIMESTAMP
โโโ settlement
    โโโ id BIGINT PK AUTO_INCREMENT
    โโโ wallet_id BIGINT FK โ wallet
    โโโ period_start DATE
    โโโ period_end DATE
    โโโ total_amount DECIMAL(12,2)
    โโโ status ENUM('PENDING','PROCESSED')
    โโโ created_at TIMESTAMP

๐ 1.11 ุฌุฏููุฉ ุงูุงุณุชูุงู:
โโโ pickup_schedule
    โโโ id BIGINT PK AUTO_INCREMENT
    โโโ merchant_id BIGINT FK โ users
    โโโ courier_id BIGINT FK โ users NULL
    โโโ scheduled_date DATE
    โโโ time_slot ENUM('MORNING','AFTERNOON','EVENING')
    โโโ address TEXT
    โโโ status ENUM('SCHEDULED','ASSIGNED','PICKED_UP','CANCELLED')
    โโโ notes TEXT NULL
    โโโ created_at TIMESTAMP

๐ 1.12 ูุธุงู ุงูุชุฐุงูุฑ/ุงูุดูุงูู:
โโโ support_ticket
โ   โโโ id BIGINT PK AUTO_INCREMENT
โ   โโโ ticket_number VARCHAR(20) UNIQUE
โ   โโโ user_id BIGINT FK โ users
โ   โโโ shipment_id BIGINT FK โ shipments NULL
โ   โโโ category ENUM('DELIVERY_ISSUE','PAYMENT','DAMAGE','LOST','OTHER')
โ   โโโ priority ENUM('LOW','MEDIUM','HIGH','URGENT')
โ   โโโ status ENUM('OPEN','IN_PROGRESS','WAITING','RESOLVED','CLOSED')
โ   โโโ subject VARCHAR(255)
โ   โโโ description TEXT
โ   โโโ created_at TIMESTAMP
โโโ ticket_reply
    โโโ id BIGINT PK AUTO_INCREMENT
    โโโ ticket_id BIGINT FK โ support_ticket
    โโโ user_id BIGINT FK โ users
    โโโ message TEXT
    โโโ is_internal BIT(1)
    โโโ created_at TIMESTAMP
```

#### ููุฎุต ุงููุฑุญูุฉ 1 โ ุงูุฌุฏุงูู:

| ุงูุญุงูุฉ | ุงูุนุฏุฏ | ุงูุฌุฏุงูู |
|--------|-------|---------|
| โ ููุฌูุฏุฉ ูุชุญุชุงุฌ ุชูุนูู ููุท | 6 | courier_location_history, notification_log, service_feedback, merchant_service_feedback, return_shipments, system_audit_log |
| ๐ง ููุฌูุฏุฉ ูุชุญุชุงุฌ ุชุนุฏูู | 3 | shipments (pod fields), notification_log (+columns), zones (+polygon field) |
| ๐ ูุทููุจ ุฅูุดุงุคูุง | 12 | delivery_tracking_session, notification_template, notification_preference, courier_badge, courier_performance_monthly, delivery_proof, bulk_upload_batch, wallet, wallet_transaction, withdrawal_request, settlement, pickup_schedule, support_ticket, ticket_reply |

#### ุงููุฑุญูุฉ 2: ุงูุชูุณุน ุงูุชุฌุงุฑู (22 ููุฒุฉ) โ ููุฎุต ุงูุฌุฏุงูู ุงููุทููุจุฉ

| ุงูููุฒุฉ | ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ ุงููุทููุจุฉ |
|--------|-------------------------|
| 2.2 ูุธุงู ุงูุงุดุชุฑุงูุงุช | subscription_plan, merchant_subscription, invoice, usage_tracking |
| 2.3 ุจูุงุจุฉ ุงูุฏูุน | payment_transaction, payment_method |
| 2.4 ุฅุฏุงุฑุฉ ุงูุนููุฏ | contract, contract_template |
| 2.5 ุฅุฏุงุฑุฉ ุงูุฃุณุทูู | vehicle, vehicle_assignment, vehicle_maintenance, fuel_log |
| 2.7 ุฅุฏุงุฑุฉ ุงููุฎุฒูู | product, product_inventory |
| 2.10 ูุธุงู ุงูุญูุงูุฒ | incentive_rule, incentive_award |
| 2.11 ุจุฑูุงูุฌ ุฅุญุงูุฉ | referral, referral_reward |
| 2.13 ุชูุงูู ููุตุงุช ุงูุชุฌุงุฑุฉ | integration_config, webhook_subscription, webhook_log |
| 2.14 API ุนุงูุฉ | api_key, api_usage_log |
| **ุงูุฅุฌูุงูู** | **~20 ุฌุฏูู ุฌุฏูุฏ** |

#### ุงููุฑุญูุฉ 3: ุงูุฐูุงุก ูุงูุชุญูููุงุช โ ููุฎุต ุงูุฌุฏุงูู ุงููุทููุจุฉ

| ุงูููุฒุฉ | ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ ุงููุทููุจุฉ |
|--------|-------------------------|
| 3.1 ูุญุฑู ุงูุชูุฒูุน ุงูุฐูู | assignment_rule, assignment_history |
| 3.2 ุชุญุณูู ุงููุณุงุฑุงุช | route_plan, route_waypoint |
| 3.3 ุชุญูููุงุช ุชูุจุคูุฉ | prediction_model, prediction_result |
| 3.4 ููุญุฉ ุฐูุงุก ุงูุฃุนูุงู | report_definition, report_schedule, report_cache |
| **ุงูุฅุฌูุงูู** | **~8 ุฌุฏุงูู ุฌุฏูุฏุฉ** |

---

## ุงูุฌุฒุก ุงูุฑุงุจุน: ุฎุทุฉ ุงูุญู ุงููุซูู

### 4.1 ุงููููุฌูุฉ

```
ุงููุจุฏุฃ: ุฅุตูุงุญ ุงูุฃุณุงุณ ุฃููุงู โ ุซู ุงูุจูุงุก ุนููู

Sprint 0 (ุฃุณุจูุน 1-2):     ุฅุตูุงุญ ุงูุฃูุงู ุงูุญุฑุฌ + ุงููุธุงุฆู ุงููุนุทูุฉ
Sprint 1 (ุฃุณุจูุน 3-4):     ุชุซุจูุช ุงูุจููุฉ ุงูุชุญุชูุฉ + ุฅุตูุงุญ Frontend
Sprint 2 (ุฃุณุจูุน 5-6):     ุชุญุณูู ุงูุฃุฏุงุก + ุจุฏุก ุฅุถุงูุฉ ุงูููุฒุงุช
Sprint 3+ (ุฃุณุจูุน 7+):     ุจูุงุก ููุฒุงุช ุงููุฑุญูุฉ 1
```

### 4.2 Sprint 0 โ ุฅุตูุงุญุงุช ููุฑูุฉ (ุฃุณุจูุนุงู)

#### ุงูุฃุณุจูุน ุงูุฃูู: ุฃูุงู Backend

```
ุงูููู 1-2: ุงูุฃูุงู ุงูุญุฑุฌ
โโโ [P0-01] ุญุฐู DebugController ุจุงููุงูู
โโโ [P0-02] ุชุบููุฑ anyRequest().permitAll() โ authenticated()
โโโ [P0-03] ููู JWT Secret ูู environment variable
โโโ [P0-04] ููู DB credentials ูู environment variable
โโโ [P0-05] ุฅุตูุงุญ MasterDataController โ ุฅุถุงูุฉ password hashing
โโโ [P0-06] ุงุณุชุจุฏุงู Random ุจู SecureRandom ูู OTP
โโโ [P0-07] ุฅุตูุงุญ courierId โ ุงุณุชุฎุฑุงุฌ ูู SecurityContext

ุงูููู 3-4: ุงููุธุงุฆู ุงููุนุทูุฉ
โโโ [P0-13] ุฅุตูุงุญ /api/shipments/list โ ุงุณุชุนูุงู ูุนูู
โโโ [P0-14] ุชูููุฐ assignShipmentsToManifest ูุนููุงู
โโโ [P0-15] ุชูุนูู ุญูุธ courier location
โโโ [P0-16] ุชูุนูู ุญูุธ return_shipments
โโโ [P0-17] ูุฒุงููุฉ ุญุงูุงุช ุงูุดุญูุฉ ุจูู ุงูููุฏ ู DB
โโโ [P0-18] ุฅุตูุงุญ Port Mismatch (Nginx โ 8000)

ุงูููู 5: ุชุฃููู ุฅุถุงูู
โโโ [P1-07] ุชูููุฏ Actuator endpoints
โโโ [P1-11] ุชุญููู hard delete ูู soft delete
โโโ [P1-12] ุฅุตูุงุญ path traversal ูู FileUploadService
โโโ [P1-13] ุฅุตูุงุญ BackupService โ ุงุณุชุฎุฏุงู --defaults-file
```

#### ุงูุฃุณุจูุน ุงูุซุงูู: ุฃูุงู Frontend + ุจููุฉ ุชุญุชูุฉ

```
ุงูููู 6-7: Frontend Security
โโโ [P0-08] ุฅูุดุงุก ุฏุงูุฉ escapeHtml() ูุงุณุชุฎุฏุงููุง ูู ูู innerHTML
โโโ [P0-09] ุฅุตูุงุญ auth โ return false on error
โโโ [P0-10] ููู JWT ูู localStorage ูู httpOnly cookie (ุฃู ุนูู ุงูุฃูู sessionStorage)
โโโ [P0-11] ุฅุตูุงุญ ReferenceError ูู api_service.js catch
โโโ [P0-12] ุฅุตูุงุญ GET requests ูุน body

ุงูููู 8-9: Frontend Cleanup
โโโ [P1-15] ุญุฐู ุฃู ุชุนููู ูููุงุช TypeScript ุงูููุชุฉ
โโโ [P1-16] ุฅุตูุงุญ ุงูุฑูุงุจุท ุงูููุณูุฑุฉ ูู admin + warehouse
โโโ [P1-17] ุฅูุดุงุก owner-settings.js ุฃู ุฅุตูุงุญ ุงููุฑุฌุน
โโโ [P1-18] ุชูุญูุฏ Base URL ูู ููู config ูุงุญุฏ
โโโ [P1-19] ุชูุญูุฏ ุฃุณูุงุก ููุงุชูุญ ุงูุชุฎุฒูู
โโโ [P1-22] ุฅุตูุงุญ zones.html ุงูููุฑุฑ
โโโ [P1-24-25] ุฅุตูุงุญ empty catch blocks

ุงูููู 10: ุงูุจููุฉ ุงูุชุญุชูุฉ
โโโ [P1-08] ุฅูุดุงุก Spring profiles (dev, staging, prod)
โโโ [P1-27-29] ุชุฃููู Redis + MySQL + Grafana
โโโ [P1-30] ุฅูุดุงุก GitHub Actions CI/CD ุฃุณุงุณู
โโโ [P1-31] ุฅูุดุงุก .dockerignore
```

### 4.3 Sprint 1 โ ุชุซุจูุช ุงูุฃุณุงุณ (ุฃุณุจูุนุงู)

```
ุงูุฃุณุจูุน ุงูุซุงูุซ:
โโโ ุฅุถุงูุฉ Flyway ูุฅุฏุงุฑุฉ DB migrations
โโโ ุฅุถุงูุฉ @Valid + Validation annotations ุนูู ูู DTOs
โโโ ุชุญููู EAGER fetch โ LAZY ูู Shipment entity
โโโ ุฅุถุงูุฉ Pagination ููู list endpoints
โโโ ุงุณุชุจุฏุงู System.out.println ุจู SLF4J
โโโ ุชุญููู Field Injection โ Constructor Injection
โโโ ุฅุถุงูุฉ Global Exception Handler ููุญุฏ

ุงูุฃุณุจูุน ุงูุฑุงุจุน:
โโโ ุชูุนูู Redis caching
โโโ ุฅูุดุงุก Vite config ุตุญูุญ ูู multi-page app
โโโ ุญุฐู dead dependencies ูู package.json
โโโ ุฅูุดุงุก escapeHtml utility ูุชุทุจููู
โโโ ุชูุญูุฏ API service layer (ุฅุฒุงูุฉ TS ุงูููุช)
โโโ ุฅุถุงูุฉ Unit Tests ููุฎุฏูุงุช ุงูุญุฑุฌุฉ (Auth, Shipment, Financial)
```

### 4.4 Sprint 2 โ ุชุญุณูู ุงูุฃุฏุงุก + ุจุฏุก ุงููุฑุญูุฉ 1 (ุฃุณุจูุนุงู)

```
ุงูุฃุณุจูุน ุงูุฎุงูุณ:
โโโ ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (N+1 elimination)
โโโ ุฅุถุงูุฉ ููุงุฑุณ ูุฑูุจุฉ ููุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ
โโโ ุฅูุดุงุก Flyway migrations ูุฌุฏุงูู ุงููุฑุญูุฉ 1
โโโ ุฅูุดุงุก Entities + Repositories ููุฌุฏุงูู ุงูุฌุฏูุฏุฉ
โโโ ุฅุถุงูุฉ API versioning (/api/v1/)

ุงูุฃุณุจูุน ุงูุณุงุฏุณ:
โโโ ุจุฏุก ุชูููุฐ ูุธุงู ุงููุญุงูุธ ุงููุงููุฉ (1.10)
โโโ ุจุฏุก ุชูููุฐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู (1.2)
โโโ ุจุฏุก ุชูููุฐ ุฅุซุจุงุช ุงูุชุณููู ุงููุญุณู (1.5)
โโโ ุฅุถุงูุฉ Integration Tests
```

### 4.5 ุฎุฑูุทุฉ ุงูุทุฑูู ุงูุชูุตูููุฉ

```
2026 ูุงุฑุณ (Sprint 0+1)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฅุตูุงุญ 18 ูุดููุฉ ุญุฑุฌุฉ       โ
โ  ุฅุตูุงุญ 32 ูุดููุฉ ุนุงููุฉ       โ
โ  ุชุซุจูุช ุงูุจููุฉ ุงูุชุญุชูุฉ       โ
โ  ุฅุถุงูุฉ Flyway + Tests       โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
               โ
2026 ุฃุจุฑูู-ูุงูู (Sprint 2-4)
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโ
โ  ุงููุฑุญูุฉ 1 โ ุชุนุฒูุฒ ุงูููุงุฉ   โ
โ  โโโ ูุธุงู ุงููุญุงูุธ ุงููุงููุฉ   โ
โ  โโโ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู โ
โ  โโโ ุฅุซุจุงุช ุงูุชุณููู          โ
โ  โโโ ุงูุดุญูุงุช ุงููุฌูุนุฉ        โ
โ  โโโ ูุธุงู ุงููุฑุชุฌุนุงุช         โ
โ  โโโ ูุธุงู ุงูุชุฐุงูุฑ           โ
โ  โโโ ููุญุงุช ุชุญูู ูุชูุฏูุฉ     โ
โ  โโโ ุฌุฏููุฉ ุงูุงุณุชูุงู         โ
โ  +12 ุฌุฏูู ุฌุฏูุฏ ูู DB       โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
               โ
2026 ููููู-ุณุจุชูุจุฑ (Sprint 5-10)
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโ
โ  ุงููุฑุญูุฉ 2 โ ุงูุชูุณุน ุงูุชุฌุงุฑู โ
โ  โโโ ูุธุงู ุงูุงุดุชุฑุงูุงุช        โ
โ  โโโ ุจูุงุจุฉ ุงูุฏูุน            โ
โ  โโโ ุฅุฏุงุฑุฉ ุงูุนููุฏ           โ
โ  โโโ ุฅุฏุงุฑุฉ ุงูุฃุณุทูู          โ
โ  โโโ API ุนุงูุฉ + Webhooks    โ
โ  โโโ ุชูุงูู ููุตุงุช ุงูุชุฌุงุฑุฉ    โ
โ  +20 ุฌุฏูู ุฌุฏูุฏ ูู DB       โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
               โ
2026 ุฃูุชูุจุฑ-ุฏูุณูุจุฑ
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโ
โ  ุงููุฑุญูุฉ 3 โ ุงูุฐูุงุก         โ
โ  โโโ ูุญุฑู ุงูุชูุฒูุน ุงูุฐูู     โ
โ  โโโ ุชุญุณูู ุงููุณุงุฑุงุช         โ
โ  โโโ ุชุญูููุงุช ุชูุจุคูุฉ         โ
โ  โโโ ููุญุฉ BI ูุชูุฏูุฉ        โ
โ  +8 ุฌุฏุงูู ุฌุฏูุฏุฉ ูู DB      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ุงูุฌุฒุก ุงูุฎุงูุณ: ุฃููููุฉ ุงูุชูููุฐ ุงูุชูุตูููุฉ

### ุงููุณุชูู 0 โ ูุฌุจ ุงูุขู (ุงูุฃุณุจูุน ุงูุฃูู)

| # | ุงููููุฉ | ุงูุฌูุฏ | ุงูุชุฃุซูุฑ | ุงููููุงุช |
|---|--------|-------|---------|---------|
| 1 | ุญุฐู DebugController | 5 ุฏูุงุฆู | ุญุฑุฌ | DebugController.java, SecurityConfig.java |
| 2 | `authenticated()` ุจุฏูุงู ูู `permitAll()` | 10 ุฏูุงุฆู | ุญุฑุฌ | SecurityConfig.java |
| 3 | Environment variables ููุฃุณุฑุงุฑ | 30 ุฏูููุฉ | ุญุฑุฌ | application.yml, .env.template |
| 4 | ุฅุตูุงุญ password hashing ูู MasterData | 15 ุฏูููุฉ | ุญุฑุฌ | MasterDataController.java |
| 5 | SecureRandom ุจุฏูุงู ูู Random | 5 ุฏูุงุฆู | ุญุฑุฌ | OtpService.java |
| 6 | ุฅุตูุงุญ courierId ูู SecurityContext | 20 ุฏูููุฉ | ุญุฑุฌ | ShipmentController.java |
| 7 | ุชูุนูู /api/shipments/list | 30 ุฏูููุฉ | ุญุฑุฌ | ShipmentController.java |
| 8 | ุชูููุฐ assignShipmentsToManifest | 1 ุณุงุนุฉ | ุญุฑุฌ | ManifestController.java, ShipmentService.java |
| 9 | ุชูุนูู ุญูุธ courier location | 30 ุฏูููุฉ | ุญุฑุฌ | ShipmentService.java |
| 10 | ุชูุนูู ุญูุธ return_shipments | 30 ุฏูููุฉ | ุญุฑุฌ | ShipmentService.java |
| 11 | ูุฒุงููุฉ shipment statuses | 1 ุณุงุนุฉ | ุญุฑุฌ | DataInitializer.java ุฃู SQL migration |
| 12 | ุฅุตูุงุญ Port Mismatch | 10 ุฏูุงุฆู | ุญุฑุฌ | nginx.conf |
| 13 | ุฅูุดุงุก escapeHtml + ุชุทุจููู | 2 ุณุงุนุฉ | ุญุฑุฌ | ุฌููุน ูููุงุช JS |
| 14 | ุฅุตูุงุญ auth return false | 5 ุฏูุงุฆู | ุญุฑุฌ | auth_service.js |
| 15 | ุฅุตูุงุญ api_service.js catch | 15 ุฏูููุฉ | ุญุฑุฌ | api_service.js |

### ุงููุณุชูู 1 โ ูุจู Production (ุฃุณุจูุน 2-3)

| # | ุงููููุฉ | ุงูุฌูุฏ | ุงูุชุฃุซูุฑ |
|---|--------|-------|---------|
| 1 | ุฅุถุงูุฉ DTOs + @Valid ููู endpoint | 2 ููู | ุนุงูู |
| 2 | ุชุญููู EAGER โ LAZY + ุฅุตูุงุญ N+1 | 1 ููู | ุนุงูู |
| 3 | ุฅุถุงูุฉ Pagination | 1 ููู | ุนุงูู |
| 4 | ุฅุถุงูุฉ Spring profiles | 0.5 ููู | ุนุงูู |
| 5 | ุชูุนูู Redis caching | 1 ููู | ุนุงูู |
| 6 | ุฅูุดุงุก CI/CD pipeline | 1 ููู | ุนุงูู |
| 7 | ุฅุตูุงุญ ุงูุฑูุงุจุท ุงูููุณูุฑุฉ | 0.5 ููู | ุนุงูู |
| 8 | ุญุฐู dead TypeScript | 0.5 ููู | ุนุงูู |
| 9 | ุฅุตูุงุญ Vite build | 1 ููู | ุนุงูู |
| 10 | ุฅุถุงูุฉ Flyway | 1 ููู | ุนุงูู |

### ุงููุณุชูู 2 โ ุชุญุณููุงุช ูููุฉ (ุฃุณุจูุน 4-5)

| # | ุงููููุฉ | ุงูุฌูุฏ |
|---|--------|-------|
| 1 | ุงุณุชุจุฏุงู System.out ุจู SLF4J Logger | 1 ููู |
| 2 | ุชุญููู Field โ Constructor Injection | 0.5 ููู |
| 3 | Global Exception Handler | 0.5 ููู |
| 4 | ุฅุตูุงุญ CSS duplicate variables | 0.5 ููู |
| 5 | ุฅุถุงูุฉ CSP header | 0.5 ููู |
| 6 | ุฅุถุงูุฉ rate limiting | 1 ููู |
| 7 | ุฅูุดุงุก Flyway migrations ููุฑุญูุฉ 1 | 1 ููู |
| 8 | ูุชุงุจุฉ Unit Tests (ุชุบุทูุฉ 50%) | 3 ุฃูุงู |

---

## ุงูุฌุฒุก ุงูุณุงุฏุณ: ููุฎุต ุชูููุฐู

### ุงููุถุน ุงูุญุงูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ุชูููู ุงููุธุงู ุงูุญุงูู               โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงููุธุงุฆู        โ โโโโโโโโโโ 60%            โ
โ ุงูุฃูุงู         โ โโโโโโโโโโ 20%            โ
โ ุงูุฃุฏุงุก         โ โโโโโโโโโโ 30%            โ
โ ุงูุงุฎุชุจุงุฑุงุช     โ โโโโโโโโโโ  0%            โ
โ ุงูุจููุฉ ุงูุชุญุชูุฉ โ โโโโโโโโโโ 25%            โ
โ ุฌูุฏุฉ ุงูููุฏ     โ โโโโโโโโโโ 40%            โ
โ ุงููุฑุงูุจุฉ       โ โโโโโโโโโโ 25%            โ
โ                โ                           โ
โ ุงููุนุฏู ุงูุนุงู   โ โโโโโโโโโโ 29%            โ
โโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงููุฏู ุจุนุฏ Sprint 0+1 (ุดูุฑ ูุงุญุฏ)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          ุงูุชูููู ุงููุณุชูุฏู                  โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงููุธุงุฆู        โ โโโโโโโโโโ 80%            โ
โ ุงูุฃูุงู         โ โโโโโโโโโโ 80%            โ
โ ุงูุฃุฏุงุก         โ โโโโโโโโโโ 70%            โ
โ ุงูุงุฎุชุจุงุฑุงุช     โ โโโโโโโโโโ 50%            โ
โ ุงูุจููุฉ ุงูุชุญุชูุฉ โ โโโโโโโโโโ 70%            โ
โ ุฌูุฏุฉ ุงูููุฏ     โ โโโโโโโโโโ 75%            โ
โ ุงููุฑุงูุจุฉ       โ โโโโโโโโโโ 60%            โ
โ                โ                           โ
โ ุงููุนุฏู ุงูุนุงู   โ โโโโโโโโโโ 69%            โ
โโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงููุฑุงุฑ ุงููุทููุจ

**ุงูุชูุตูุฉ ุงููุงุถุญุฉ:** ูุฌุจ ุชูููุฐ Sprint 0 (ุงูุฅุตูุงุญุงุช ุงูุญุฑุฌุฉ) **ููุฑุงู** ูุจู ุฃู ุชุทููุฑ ุฌุฏูุฏ. ุงููุธุงู ูู ุญุงูุชู ุงูุญุงููุฉ **ุบูุฑ ุขูู ููุง ูุตูุญ ูุจูุฆุฉ Production**.

**ุงูุฎุทูุฉ ุงูุชุงููุฉ ุงูููุชุฑุญุฉ:** ุงูุจุฏุก ูู ุชูููุฐ ุงููุณุชูู 0 ูู ุงูุฅุตูุงุญุงุช โ ุจุฏุกุงู ุจุงูุฃูุงู ุซู ุงููุธุงุฆู ุงููุนุทูุฉ.

---

> **ููุงุญุธุฉ:** ูุฐุง ุงูุชูุฑูุฑ ูุจูู ุนูู ุชุญููู ูุนูู ููููุฏ ุงููุตุฏุฑู ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญูุฉ. ุฌููุน ุงูุฃุฑูุงู ูุงููุฑุงุฌุน ุญููููุฉ ููุคูุฏุฉ.
